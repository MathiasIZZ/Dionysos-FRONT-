<div class="container">
  <h1>DIONYSOS</h1>
</div>
<form   
  *ngIf="!isLoggedIn"
  name="form"
  (ngSubmit)="f.form.valid && onSubmit()"
  #f="ngForm"
  novalidate
  >
  <div class="mb-3"> 
    <label for="username" class="form-label">Username</label>
    <div class="bgroundcolor">
      <input
        type="text"
        class="form-control text-center"
        id="username"
        name="username"
        [(ngModel)]="form.username"
        required
        #username="ngModel"/>
    </div>
    <div
      class="alert alert-danger"
      role="alert"
      *ngIf="username.errors && f.submitted">
      Username is required!
    </div>
    <label for="password" class="form-label">Password</label>
    <div class="bgroundcolor">
      <input
        type="password"
        class="form-control text-center"
        id="password"
        name="password"
        [(ngModel)]="form.password"
        required
        minlength="6"
        #password="ngModel"/>
    </div>
    <div
      class="alert alert-danger"
      role="alert"
      *ngIf="password.errors && f.submitted"
    >
      <div *ngIf="password.errors['required']">Password is required</div>
      <div *ngIf="password.errors['minlength']">
        Password must be at least 6 characters
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-mystyle">Connexion</button>
  <div
    class="alert alert-danger"
    role="alert"
    *ngIf="f.submitted && isLoginFailed"
    >
    Login failed: {{ errorMessage }}
  </div>
</form>
<div class="mb-3">
  <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="isLoggedIn">
    Bonjour {{ username }} connexion en tant que {{ roles }}.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" (click)="goToProfile()"></button>
  </div>
</div>

