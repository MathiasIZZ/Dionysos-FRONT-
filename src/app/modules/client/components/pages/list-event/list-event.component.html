<section class="facility">

    <div class="heading">
      <h3>Aperçu des événements</h3>
    </div>
  
    <div class="box-container">
  
        <ng-container *ngFor="let event of events">
            <div class="box">
                <img src="assets/images/icon-1.png" alt="">
                <h3> {{ event.eventTitle }}</h3>
                <p> Description : {{ event.description }} </p> 
                <p> Ville :  {{ event.city }} </p> 
                <p> Date et heure début :  {{ event.hourBegin | date: 'dd-MM-yyyy HH:mm'}} </p> 

              </div>
        </ng-container>
    
      <div class="box">
        <img src="assets/images/icon-3.png" alt="">
        <h3>Thêatre en plein air</h3>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe, adipisci!</p>
      </div>
  
      <div class="box">
        <img src="assets/images/icon-4.png" alt="">
        <h3>Bons plans restau</h3>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe, adipisci!</p>
      </div>      
    </div>
    <div class="box-container">
        <div class="box">
            <button class="btn solid" (click)="addEvent()">Ajouter un Evénement</button>
          </div>
    
    </div>
  
  </section>

  <section class="facility">

  <div class="map-container">
    <div class="map-frame">
        <div id="map">
        </div>
    </div>
  </div>
  
  </section>
  <script>
    console.log('COUCOU ')
    /* Use http://localhost:7878 if you run a local instance. */
    const url = new URL('http://api-adresse.data.gouv.fr/search')
    const params = {q: 'lil'}
    Object.keys(params).forEach(
      key => url.searchParams.append(key, params[key])
    )
    fetch(url)
      .then(response => {
        if (response.status >= 200 && response.status < 300) {
          return response
        } else {
          const error = new Error(response.statusText)
          error.response = response
          throw error
        }
      })
      .then(response => response.json())
      .then(data => console.log('request succeeded with JSON response', data))
      .catch(error => console.log('request failed', error))
  </script>